<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Core Trainer{% endblock %}</title>

  <!-- Bootstrap (opțional). Dacă nu se încarcă, pagina tot arată datorită CSS-ului local de mai jos. -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet">

  <style>
    /* Stiluri minime ca fallback (în caz că Bootstrap nu se încarcă) */
    :root { --gap: 16px; --border:#ddd; --bg:#fff; --text:#111; }
    body { margin:0; padding: 16px 0 100px; background: var(--bg); color: var(--text);
           font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 16px; }
    .nav { display:flex; gap:var(--gap); align-items:center; padding: 12px 0; border-bottom:1px solid var(--border); margin-bottom: var(--gap); }
    .brand { font-weight: 600; }
    .btn { display:inline-block; padding:8px 12px; border:1px solid #333; border-radius:8px; text-decoration:none; color:#111; }
    .card { border:1px solid var(--border); border-radius:12px; padding:16px; margin-bottom:12px; background:#fff; }
    .alert { border:1px solid #bbb; border-radius:10px; padding:10px 12px; margin-bottom: 10px; }
    .alert-success { border-color:#6cc070; background:#eaffea; }
    .alert-danger  { border-color:#e27b7b; background:#ffefef; }
    .exercise-img { max-height: 80px; border-radius: 6px; }
    .done-row { background: #e8ffe8; }
    a { color: inherit; }
  </style>
</head>
<body>

  <!-- Navbar simplu, sigur -->
  <div class="container">
    <nav class="nav">
      <div class="brand"><a href="{{ url_for('index') }}">Core Trainer</a></div>
      <div style="flex:1"></div>
      <a class="btn" href="{{ url_for('index') }}">Acasă</a>
      <a class="btn" href="{{ url_for('estimator') }}">Estimator</a>
      <a class="btn" href="{{ url_for('init_db') }}">(Re)Inițializează</a>
    </nav>
  </div>

  <!-- Conținut -->
  <div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </div>

  <!-- Footer normal (nu fixed) ca să nu acopere conținutul -->
  <footer style="border-top:1px solid #ddd; margin-top:24px; padding:12px 0;">
    <div class="container" style="display:flex; justify-content:space-between;">
      <small>© Core Trainer</small>
      <small><a href="{{ url_for('estimator') }}">Calculator încărcare</a></small>
    </div>
  </footer>

  <!-- Bootstrap JS (opțional) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
</body>
</html>
